# Тесты лабы 1.2 по ЭВМ

## Способ использования:

Можете вызвать `make help`, но тут базово пропишу

```bash
EXECUTABLE=./ваша_программа make test                                      # Запустить все тесты (показывать только упавшие)
EXECUTABLE=./ваша_программа make test-verbose                              # Запустить все тесты (показывать все результаты)
EXECUTABLE=./ваша_программа make test-single TEST=test/username/имя_теста  # Запустить один конкретный тест
```
Или можете просто определить переменную окружения `EXECUTABLE` и отдельно при каждом запуске ее не вводить:
```bash
export EXECUTABLE=./ваша_программа
make test
make test-verbose
make test-single TEST=tests/username/имя_теста
```
Переменные окружения:

`EXECUTABLE` — Путь к исполняемому файлу для тестирования (по умолчанию: ./main)

`COMPARATOR` — Путь к скрипту для сравнения выводов (по умолчанию: python3 compare.py)

Необходимые файлы:

`compare.py` — Скрипт для сравнения выходных данных (должен находиться в текущей директории)

## Структура теста:
Каждый тест должен располагаться в папке tests/username/<имя_теста>/ и содержать:

in.txt (входные данные)

out.txt (ожидаемые выходные данные)

## Примеры:

```bash
EXECUTABLE=./my_program make test
EXECUTABLE=python3 my_script.py make test
```

## Что делать если хотите добавить свой тесты
0. Пусть каждый человек создает тесты в своей папке
1. Создайте новую ветку
```bash
git checkout -b branch_name
```
2. Создайте новую папку внутри папки tests/username (в качествее username укажите ваш ник в тг, чтобы было проще связаться если что) с именем теста. Внутри нее сделайте 2 файл: in.txt и out.txt, ввод и ожидаемый вывод соответственно
Чтобы не было коллизий названий тестов предлагаю следующую систему именования: `операция_тип-округления_номер-добавляемого-теста`
Пример: `mult_0_1`
3. Запуште все изменения, создайте пул реквест и отметьте кого-нибудь из создателей репозитория в качестве ревьюера.
**Самому мержить ПР нельзя, надо чтобы кто-нибудь провалидировал тест**

*Также предложение: давайте не плодить много простых тестов, создавайте какие-нибудь тесты, где решает тип округления, а не просто 2+2*

**По всем вопросам можете писать в тг @dandolmatov**
